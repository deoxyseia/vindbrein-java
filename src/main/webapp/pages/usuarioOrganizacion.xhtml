<ui:composition template="./templates/layout.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
	
	<ui:define name="title">Registro de Organización</ui:define>

	<ui:define name="content">
		<center>
		<h:form id="formUsuarioOrganizacion">		
			<p:panel header="Registro de Organización">

				<h:panelGrid columns="2">
					<h:outputText value="Razón social de la Organización:"></h:outputText>
					<p:inputText
						value="#{usuarioManagedBean.usuarioReclutador.reclutador.organizacion.orgaRazonSocial}"
						required="true"
						requiredMessage="La razón social de la org. es necesaria" />
				</h:panelGrid>		

					<p:fieldset legend="Responsable de la organización">
						<h:panelGrid columns="2">
							<h:outputText value="Nombres :"></h:outputText>
							<p:inputText
								value="#{usuarioManagedBean.usuarioReclutador.reclutador.reclNombres}"
								required="true" requiredMessage="Su nombre(s) es necesario" />

							<h:outputText value="Apellido paterno :"></h:outputText>
							<p:inputText
								value="#{usuarioManagedBean.usuarioReclutador.reclutador.reclApellidoPaterno}"
								required="true"
								requiredMessage="Su apellido paterno es necesario" />

							<h:outputText value="Apellido materno :"></h:outputText>
							<p:inputText
								value="#{usuarioManagedBean.usuarioReclutador.reclutador.reclApellidoMaterno}"
								required="true"
								requiredMessage="Su apellido materno es necesario" />		
								
							<h:outputText value="E-mail :"></h:outputText>
							<p:inputText
								value="#{usuarioManagedBean.usuarioReclutador.usuaCorreo}"
								converterMessage="Ingrese un email válido" required="true"
								requiredMessage="Su e-mail es necesario" />

							<h:outputText value="Contraseña :"></h:outputText>
							<p:password id="idPassword"
								value="#{usuarioManagedBean.newPassword}" feedback="true"
								promptLabel="Seguridad" required="true"
								requiredMessage="La contraseña es necesaria"
								converterMessage="Ingrese un valor válido" weakLabel="Débil"
								goodLabel="Buena" strongLabel="Muy buena" />

							<h:outputText value="Repita contraseña :"></h:outputText>
							<p:password id="idPasswordReload"
								value="#{usuarioManagedBean.newPasswordReload}" required="true"
								requiredMessage="La contraseña es necesaria"
								converterMessage="Ingrese un valor válido" />					
						</h:panelGrid>
					</p:fieldset>
					<f:facet name="footer">
						<center>
							<p:commandButton value="Guardar" styleClass="ui-priority-primary"
								actionListener="#{usuarioManagedBean.verifiedSaveUsuarioOrganizacion()}"
								oncomplete="if (!args.validationFailed &amp;&amp; args.verificado){PF('confirmDialogUsuarioOrganizacion').show()}"
								icon="ui-icon-check" style="margin:0">
							</p:commandButton>
							<p:commandButton value="Cancelar" ajax="false" immediate="true"
								action="/pages/secured/principal/principal.xhtml?faces-redirect=true"
								type="submit" icon="ui-icon-close">
							</p:commandButton>
						</center>
					</f:facet>
			</p:panel>			
		</h:form>
	</center>	
		
<!-- Dialog de confirmación de guardado de usuario organizacion -->

		<p:confirmDialog message="Estás seguro que desea guardar la información?" header="Confirmación"
			severity="info" appendTo="@(body)"
			widgetVar="confirmDialogUsuarioOrganizacion">
			<p:commandButton value="Sí"
			actionListener="#{usuarioManagedBean.saveUsuarioOrganizacion()}"
				action="/pages/secured/principal/principal.xhtml?faces-redirect=true"
				oncomplete="PF('confirmDialogUsuarioOrganizacion').hide()" />
			<p:commandButton value="No"
				onclick="PF('confirmDialogUsuarioOrganizacion').hide();" type="button" />
		</p:confirmDialog>
		
<!-- Fin Dialog de confirmación de guardado de usuario organizacion -->
	</ui:define>
</ui:composition>